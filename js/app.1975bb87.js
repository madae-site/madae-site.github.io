(function(){"use strict";var t={9340:function(t,e,n){var r=n(9798),o=n(4220);function a(t,e){const n=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(n)}var i=n(1317);const u={},l=(0,i.A)(u,[["render",a]]);var c=l,s=n(5220),f=(n(4645),n(6732)),d=n(4413);const v=t=>((0,o.Qi)("data-v-0779fbe8"),t=t(),(0,o.jt)(),t),m={class:"market-data-container"},p=v((()=>(0,o.Lk)("h2",{class:"text-h4 text-center q-mb-md"},"마대 시세표",-1)));var b={__name:"MarketPage",setup(t){const e=(0,f.KR)([]),n=(0,f.KR)([]),r=(0,f.KR)(!0),a=(0,f.KR)(null),i=[{width:"60%"},{width:"15%"},{width:"25%"}],u=[{name:"item",label:"아이템명",field:"item",sortable:!0},{name:"totalCount",label:"거래량",field:"totalCount",sortable:!0,format:t=>s(t)},{name:"averagePrice",label:"평균가격",field:"averagePrice",sortable:!0,format:t=>c(t)}],l=(0,o.EW)((()=>[...n.value].sort(((t,e)=>e.totalCount-t.totalCount)))),c=t=>new Intl.NumberFormat("ko-KR").format(t),s=t=>new Intl.NumberFormat("ko-KR").format(t),v=t=>{const e=t.reduce(((t,e)=>{const n=e.item.match(/\((\d+)개\)$/);let r=1,o=e.item;n&&(r=parseInt(n[1]),o=e.item.replace(/\(\d+개\)$/,"").trim());const a=parseInt(e.price.replace(/,/g,""));return t[o]||(t[o]={item:o,totalCount:0,totalPrice:0,transactions:[]}),t[o].totalCount+=r,t[o].totalPrice+=a,t[o].transactions.push({date:e.date,time:e.time,buyer:e.buyer,price:a,count:r}),t}),{});return Object.values(e).map((t=>({...t,averagePrice:Math.round(t.totalPrice/t.totalCount)})))},b=async()=>{const t="1FpPV7ChZm1EaG4EfMBjTTy4qwNR-P-3qUTRQhpmAr7E",n="마대시장",o="A:E",i="AIzaSyA-UjgOrvO_9OYa3L5L_Hb7q6MN2Wh1mVo",u=`https://sheets.googleapis.com/v4/spreadsheets/${t}/values/${n}!${o}?key=${i}`;try{const t=await d.A.get(u),n=t.data.values;e.value=n.slice(1).map((t=>({date:t[0],time:t[1],item:t[2],buyer:t[3],price:t[4]})))}catch(l){console.error("Error fetching sheet data:",l),a.value="데이터를 불러오는 중 오류가 발생했습니다."}finally{r.value=!1}},g=()=>{alert("기능 추가 예정이에요!")};return(0,o.sV)((async()=>{await b(),n.value=v(e.value)})),(t,e)=>{const n=(0,o.g2)("q-inner-loading"),a=(0,o.g2)("q-table");return(0,o.uX)(),(0,o.CE)("div",m,[p,r.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(a,{key:0,rows:l.value,columns:u,"row-key":"item",loading:r.value,"rows-per-page-options":[0],pagination:{rowsPerPage:0},onRowClick:g,class:"styled-table","table-style":{fontSize:"16px"},"table-col-style":i,flat:"",bordered:"","hide-bottom":""},{loading:(0,o.k6)((()=>[(0,o.bF)(n,{showing:"",color:"primary"})])),_:1},8,["rows","loading"]))])}}},g=n(4795),h=n(9010),y=n(2110),w=n.n(y);const O=(0,i.A)(b,[["__scopeId","data-v-0779fbe8"]]);var k=O;w()(b,"components",{QTable:g.A,QInnerLoading:h.A});const P=[{path:"/",component:k}],_=(0,s.aE)({history:(0,s.LA)(),routes:P});var j=_,A=n(7564),C=n(1252),E={config:{},plugins:{},lang:C.A};const R=(0,r.Ef)(c);R.use(A.A,E),R.use(j).mount("#app")}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,r,o,a){if(!r){var i=1/0;for(s=0;s<t.length;s++){r=t[s][0],o=t[s][1],a=t[s][2];for(var u=!0,l=0;l<r.length;l++)(!1&a||i>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[l])}))?r.splice(l--,1):(u=!1,a<i&&(i=a));if(u){t.splice(s--,1);var c=o();void 0!==c&&(e=c)}}return e}a=a||0;for(var s=t.length;s>0&&t[s-1][2]>a;s--)t[s]=t[s-1];t[s]=[r,o,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,a,i=r[0],u=r[1],l=r[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(o in u)n.o(u,o)&&(n.m[o]=u[o]);if(l)var s=l(n)}for(e&&e(r);c<i.length;c++)a=i[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(s)},r=self["webpackChunkmadae_site"]=self["webpackChunkmadae_site"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(9340)}));r=n.O(r)})();
//# sourceMappingURL=app.1975bb87.js.map