(function(){"use strict";var t={8463:function(t,e,r){var n=r(5130),a=r(6768);function o(t,e){const r=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.Wv)(r)}var u=r(1241);const i={},c=(0,u.A)(i,[["render",o]]);var l=c,s=r(1387),f=(r(4114),r(4232)),v=r(144),d=r(4373);const p=t=>((0,a.Qi)("data-v-3c9fc69f"),t=t(),(0,a.jt)(),t),m={class:"market-data-container"},h=p((()=>(0,a.Lk)("h2",{class:"market-data-title"},"마대 시세표",-1))),b={class:"market-data-table"},y=p((()=>(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"아이템명"),(0,a.Lk)("th",null,"평균 단가")])],-1)));var g={__name:"MarketPage",setup(t){const e=(0,v.KR)([]),r=(0,v.KR)([]),n=(0,a.EW)((()=>[...r.value].sort(((t,e)=>e.averagePrice-t.averagePrice)))),o=t=>new Intl.NumberFormat("ko-KR").format(t),u=t=>{const e=t.reduce(((t,e)=>{const r=e.item.match(/\((\d+)개\)$/);let n=1,a=e.item;r&&(n=parseInt(r[1]),a=e.item.replace(/\(\d+개\)$/,"").trim());const o=parseInt(e.price.replace(/,/g,""));return t[a]||(t[a]={item:a,totalCount:0,totalPrice:0,transactions:[]}),t[a].totalCount+=n,t[a].totalPrice+=o,t[a].transactions.push({date:e.date,time:e.time,buyer:e.buyer,price:o,count:n}),t}),{});return Object.values(e).map((t=>({...t,averagePrice:Math.round(t.totalPrice/t.totalCount)})))},i=(0,v.KR)(!0),c=(0,v.KR)(null),l=async()=>{const t="1FpPV7ChZm1EaG4EfMBjTTy4qwNR-P-3qUTRQhpmAr7E",r="마대시장",n="A:E",a="AIzaSyA-UjgOrvO_9OYa3L5L_Hb7q6MN2Wh1mVo",o=`https://sheets.googleapis.com/v4/spreadsheets/${t}/values/${r}!${n}?key=${a}`;try{const t=await d.A.get(o),r=t.data.values;e.value=r.slice(1).map((t=>({date:t[0],time:t[1],item:t[2],buyer:t[3],price:t[4]}))),i.value=!1}catch(u){console.error("Error fetching sheet data:",u),c.value="데이터를 불러오는 중 오류가 발생했습니다.",i.value=!1}};return(0,a.sV)((async()=>{await l(),r.value=u(e.value)})),(t,e)=>((0,a.uX)(),(0,a.CE)("div",m,[h,(0,a.Lk)("table",b,[y,(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.value,(t=>((0,a.uX)(),(0,a.CE)("tr",{key:t.item},[(0,a.Lk)("td",null,(0,f.v_)(t.item),1),(0,a.Lk)("td",null,(0,f.v_)(o(t.averagePrice))+"원",1)])))),128))])])]))}};const k=(0,u.A)(g,[["__scopeId","data-v-3c9fc69f"]]);var O=k;const P=[{path:"/",component:O}],_=(0,s.aE)({history:(0,s.LA)(),routes:P});var w=_;const j=(0,n.Ef)(l);j.use(w).mount("#app")}},e={};function r(n){var a=e[n];if(void 0!==a)return a.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}r.m=t,function(){var t=[];r.O=function(e,n,a,o){if(!n){var u=1/0;for(s=0;s<t.length;s++){n=t[s][0],a=t[s][1],o=t[s][2];for(var i=!0,c=0;c<n.length;c++)(!1&o||u>=o)&&Object.keys(r.O).every((function(t){return r.O[t](n[c])}))?n.splice(c--,1):(i=!1,o<u&&(u=o));if(i){t.splice(s--,1);var l=a();void 0!==l&&(e=l)}}return e}o=o||0;for(var s=t.length;s>0&&t[s-1][2]>o;s--)t[s]=t[s-1];t[s]=[n,a,o]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,o,u=n[0],i=n[1],c=n[2],l=0;if(u.some((function(e){return 0!==t[e]}))){for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(c)var s=c(r)}for(e&&e(n);l<u.length;l++)o=u[l],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(s)},n=self["webpackChunkmadae_site"]=self["webpackChunkmadae_site"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504],(function(){return r(8463)}));n=r.O(n)})();
//# sourceMappingURL=app.adc55023.js.map