(function(){"use strict";var t={1386:function(t,e,n){var r=n(5130),a=n(6768);function o(t,e){const n=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.Wv)(n)}var u=n(1241);const i={},c=(0,u.A)(i,[["render",o]]);var l=c,s=n(1387),f=(n(4114),n(4232)),v=n(144),d=n(4373);const p=t=>((0,a.Qi)("data-v-e16d20d2"),t=t(),(0,a.jt)(),t),m={class:"market-data-container"},h=p((()=>(0,a.Lk)("h2",{class:"market-data-title"},"마대 시세표",-1))),b={class:"market-data-table"},y=p((()=>(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"아이템명"),(0,a.Lk)("th",null,"거래 수량(개)"),(0,a.Lk)("th",null,"평균 단가(Gold)")])],-1)));var g={__name:"MarketPage",setup(t){const e=(0,v.KR)([]),n=(0,v.KR)([]),r=(0,a.EW)((()=>[...n.value].sort(((t,e)=>e.averagePrice-t.averagePrice)))),o=t=>new Intl.NumberFormat("ko-KR").format(t),u=t=>new Intl.NumberFormat("ko-KR").format(t),i=t=>{const e=t.reduce(((t,e)=>{const n=e.item.match(/\((\d+)개\)$/);let r=1,a=e.item;n&&(r=parseInt(n[1]),a=e.item.replace(/\(\d+개\)$/,"").trim());const o=parseInt(e.price.replace(/,/g,""));return t[a]||(t[a]={item:a,totalCount:0,totalPrice:0,transactions:[]}),t[a].totalCount+=r,t[a].totalPrice+=o,t[a].transactions.push({date:e.date,time:e.time,buyer:e.buyer,price:o,count:r}),t}),{});return Object.values(e).map((t=>({...t,averagePrice:Math.round(t.totalPrice/t.totalCount)})))},c=(0,v.KR)(!0),l=(0,v.KR)(null),s=async()=>{const t="1FpPV7ChZm1EaG4EfMBjTTy4qwNR-P-3qUTRQhpmAr7E",n="마대시장",r="A:E",a="AIzaSyA-UjgOrvO_9OYa3L5L_Hb7q6MN2Wh1mVo",o=`https://sheets.googleapis.com/v4/spreadsheets/${t}/values/${n}!${r}?key=${a}`;try{const t=await d.A.get(o),n=t.data.values;e.value=n.slice(1).map((t=>({date:t[0],time:t[1],item:t[2],buyer:t[3],price:t[4]}))),c.value=!1}catch(u){console.error("Error fetching sheet data:",u),l.value="데이터를 불러오는 중 오류가 발생했습니다.",c.value=!1}};return(0,a.sV)((async()=>{await s(),n.value=i(e.value),console.log("Processed data:",n.value)})),(t,e)=>((0,a.uX)(),(0,a.CE)("div",m,[h,(0,a.Lk)("table",b,[y,(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.value,(t=>((0,a.uX)(),(0,a.CE)("tr",{key:t.item},[(0,a.Lk)("td",null,(0,f.v_)(t.item),1),(0,a.Lk)("td",null,(0,f.v_)(u(t.totalCount)),1),(0,a.Lk)("td",null,(0,f.v_)(o(t.averagePrice)),1)])))),128))])])]))}};const k=(0,u.A)(g,[["__scopeId","data-v-e16d20d2"]]);var O=k;const P=[{path:"/",component:O}],_=(0,s.aE)({history:(0,s.LA)(),routes:P});var w=_;const L=(0,r.Ef)(l);L.use(w).mount("#app")}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,r,a,o){if(!r){var u=1/0;for(s=0;s<t.length;s++){r=t[s][0],a=t[s][1],o=t[s][2];for(var i=!0,c=0;c<r.length;c++)(!1&o||u>=o)&&Object.keys(n.O).every((function(t){return n.O[t](r[c])}))?r.splice(c--,1):(i=!1,o<u&&(u=o));if(i){t.splice(s--,1);var l=a();void 0!==l&&(e=l)}}return e}o=o||0;for(var s=t.length;s>0&&t[s-1][2]>o;s--)t[s]=t[s-1];t[s]=[r,a,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,o,u=r[0],i=r[1],c=r[2],l=0;if(u.some((function(e){return 0!==t[e]}))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(c)var s=c(n)}for(e&&e(r);l<u.length;l++)o=u[l],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(s)},r=self["webpackChunkmadae_site"]=self["webpackChunkmadae_site"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(1386)}));r=n.O(r)})();
//# sourceMappingURL=app.0a9c8437.js.map